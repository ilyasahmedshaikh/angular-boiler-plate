(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{lhJh:function(t,e,n){"use strict";n.r(e),n.d(e,"ProfileModule",(function(){return m}));var o=n("ofXK"),i=n("3Pt+"),a=n("tyNb"),c=n("nYR2"),r=n("fXoL"),s=n("I/3d"),d=n("Vaw3"),g=n("gfgO");function p(t,e){if(1&t&&r.Jb(0,"img",19),2&t){const t=r.Ub();r.ac("src",t.preview,r.fc)}}function l(t,e){if(1&t&&r.Jb(0,"img",19),2&t){const t=r.Ub();r.ac("src",t.loading,r.fc)}}const b=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i){this.fb=t,this.router=e,this.fireStore=n,this.storage=o,this.checkLoginService=i,this.data={},this.usersCollection="users",this.preview="https://i.ibb.co/2MH630J/user.png",this.loading="../../../../assets/img/loading.gif",this.percent=0,this.imageUploaded=!1,this.data=this.checkLoginService.getUserData()}ngOnInit(){this.formInit(),this.setProfileData()}formInit(){this.programForm=this.fb.group({name:["",i.n.required],email:["",i.n.required],contact:["",i.n.required],password:["",i.n.required]})}setProfileData(){this.data=this.checkLoginService.getUserData(),this.preview=this.data.image,this.programForm.patchValue({name:this.data.name,email:this.data.email,contact:this.data.contact})}updateProfile(){this.fireStore.collection(this.usersCollection).doc(this.data.id).update({image:this.preview,name:this.programForm.value.name,email:this.programForm.value.email,contact:this.programForm.value.contact}).then(t=>{alert("Profile Updated"),this.fireStore.collection("users").get().subscribe(t=>{t.docs.forEach(t=>{let e={id:t.id,name:t.data().name,image:t.data().image,contact:t.data().contact,email:t.data().email,user_type:t.data().user_type};e.email==this.programForm.value.email&&this.checkLoginService.setLoginData(e),this.setProfileData()})})}).catch(t=>{console.log(t)})}uploadFile(t){this.imageUploaded=!this.imageUploaded;const e=t.target.files[0],n=e.name,o=this.storage.ref(n),i=this.storage.upload(n,e);this.uploadPercent=i.percentageChanges(),this.uploadPercent.subscribe(t=>this.percent=t),i.snapshotChanges().pipe(Object(c.a)(()=>{this.downloadURL=o.getDownloadURL(),this.downloadURL.subscribe(t=>{this.preview=t,this.imageUploaded=!this.imageUploaded})})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(i.b),r.Ib(a.b),r.Ib(s.a),r.Ib(d.a),r.Ib(g.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-profile"]],decls:33,vars:5,consts:[[3,"formGroup"],[1,"container","pt-4"],[1,"row"],[1,"col-12"],[1,"row","justify-content-center"],[1,"col-7"],[1,"add-img"],["type","file","accept","image/*",1,"d-none",3,"change"],["file",""],[3,"click"],[3,"src",4,"ngIf"],[1,"content"],[1,"text-capitalize"],[1,"text-muted","text-capitalize"],[1,"col-12","form-group"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["type","email","placeholder","sample@email.com","formControlName","email","readonly","",1,"form-control"],["type","number","placeholder","Contact#","formControlName","contact",1,"form-control"],[1,"rounded-btn","w-100","mt-4",3,"click"],[3,"src"]],template:function(t,e){if(1&t){const t=r.Mb();r.Lb(0,"form",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"div",3),r.Lb(4,"div",4),r.Lb(5,"div",5),r.Lb(6,"div",6),r.Lb(7,"form"),r.Lb(8,"input",7,8),r.Sb("change",(function(t){return e.uploadFile(t)})),r.Kb(),r.Lb(10,"a",9),r.Sb("click",(function(){return r.ec(t),r.dc(9).click()})),r.ic(11,p,1,1,"img",10),r.ic(12,l,1,1,"img",10),r.Kb(),r.Kb(),r.Kb(),r.Lb(13,"div",11),r.Lb(14,"h4",12),r.jc(15),r.Kb(),r.Lb(16,"p",13),r.jc(17),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(18,"div",14),r.Lb(19,"label"),r.jc(20,"Name"),r.Kb(),r.Jb(21,"input",15),r.Kb(),r.Lb(22,"div",14),r.Lb(23,"label"),r.jc(24,"Email"),r.Kb(),r.Jb(25,"input",16),r.Kb(),r.Lb(26,"div",14),r.Lb(27,"label"),r.jc(28,"Contact"),r.Kb(),r.Jb(29,"input",17),r.Kb(),r.Lb(30,"div",3),r.Lb(31,"a",18),r.Sb("click",(function(){return e.updateProfile()})),r.jc(32,"Update Profile"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}2&t&&(r.Zb("formGroup",e.programForm),r.yb(11),r.Zb("ngIf",!e.imageUploaded),r.yb(1),r.Zb("ngIf",e.imageUploaded),r.yb(3),r.kc(e.data.name),r.yb(2),r.kc(e.data.user_type))},directives:[i.p,i.h,i.d,i.i,o.l,i.a,i.g,i.c,i.k],styles:['@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,700;0,900;1,800&display=swap");.rounded-btn[_ngcontent-%COMP%]{border:1px solid #29323c;padding:8px;color:#fff;border-radius:50px;display:block;margin:auto;text-align:center}.bg-gradient[_ngcontent-%COMP%], .rounded-btn[_ngcontent-%COMP%]{background:linear-gradient(60deg,#29323c,#485563)}.bg-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fc466b,#3f5efb)}.bg-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fc4a1a,#f7b733)}.bg-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff512f,#dd2476)}.bg-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(90deg,#43cea2,#185a9d)}.bg-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00c6ff,#0072ff)}body[_ngcontent-%COMP%]{margin:0!important;overflow-x:hidden!important;font-family:Montserrat,sans-serif!important}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{text-decoration:none}section[_ngcontent-%COMP%]{padding:20px 0 0}.input-box[_ngcontent-%COMP%]{border:1px solid #e7e7e7;padding:10px;font-size:15px;width:100%;border-radius:5px}.form-control[_ngcontent-%COMP%]{font-size:15px;border:1px solid #e7e7e7!important}.uneditable-input[_ngcontent-%COMP%]:focus, input[type=color][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, input[type=datetime-local][_ngcontent-%COMP%]:focus, input[type=datetime][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=month][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=search][_ngcontent-%COMP%]:focus, input[type=tel][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus, input[type=time][_ngcontent-%COMP%]:focus, input[type=url][_ngcontent-%COMP%]:focus, input[type=week][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]:focus{border-color:none;box-shadow:none;outline:0 none}.form-control[_ngcontent-%COMP%]:focus{border-color:none;outline:0;box-shadow:none}.main-header-space[_ngcontent-%COMP%]{position:relative;top:55px}.loading[_ngcontent-%COMP%]{width:200px}.loading[_ngcontent-%COMP%], .no-data[_ngcontent-%COMP%]{display:block;margin:auto}.no-data[_ngcontent-%COMP%]{width:150px}.content-loading[_ngcontent-%COMP%]{width:300px;display:block;margin:auto}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;display:block;margin:auto;border-radius:50%}label[_ngcontent-%COMP%]{margin-bottom:3px;font-size:13px;color:#9e9e9e}.content[_ngcontent-%COMP%]{margin:15px 0;text-align:center}.add-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px;object-fit:cover;object-position:center;box-shadow:0 0 10px #e7e7e7;border-radius:25px}a[_ngcontent-%COMP%]{text-decoration:none!important}a[_ngcontent-%COMP%]:hover{color:#fff}']}),t})()}];let u=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[a.e.forChild(b)],a.e]}),t})(),m=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[o.c,u,i.e,i.l]]}),t})()}}]);